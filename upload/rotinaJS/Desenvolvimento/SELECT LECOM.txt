** CADASTRO PF DADOS DAS ANOTAÇÕES **
SELECT DISTINCT
    PONTUACAO_SCORE_CONJUGE
   FROM f_cadastro_cent AS FC
   JOIN processo AS P ON FC.COD_PROCESSO_F = P.COD_PROCESSO AND FC.COD_ETAPA_F = P.COD_ETAPA_ATUAL AND FC.COD_CICLO_F = P.COD_CICLO_ATUAL 
  WHERE CPF LIKE '%$CPF_CONJUGE%'  
    AND CPF_CONJUGE LIKE '%$CPF%'
    AND DECLARACAO_ANALISTA_SIS = 'Sim' 

SELECT DISTINCT
    RESTRICOES_CONJUGE
   FROM f_cadastro_cent AS FC
   JOIN processo AS P ON FC.COD_PROCESSO_F = P.COD_PROCESSO AND FC.COD_ETAPA_F = P.COD_ETAPA_ATUAL AND FC.COD_CICLO_F = P.COD_CICLO_ATUAL 
  WHERE CPF LIKE '%$CPF_CONJUGE%'  
    AND CPF_CONJUGE LIKE '%$CPF%'
    AND DECLARACAO_ANALISTA_SIS = 'Sim'  

SELECT DISTINCT
    JUSTIFICATIVA_RESTR_CON
   FROM f_cadastro_cent AS FC
   JOIN processo AS P ON FC.COD_PROCESSO_F = P.COD_PROCESSO AND FC.COD_ETAPA_F = P.COD_ETAPA_ATUAL AND FC.COD_CICLO_F = P.COD_CICLO_ATUAL 
  WHERE CPF LIKE '%$CPF_CONJUGE%'  
    AND CPF_CONJUGE LIKE '%$CPF%'
    AND DECLARACAO_ANALISTA_SIS = 'Sim'        

SELECT DISTINCT
    PONTUACAO_SCORE_TITULAR
   FROM f_cadastro_cent AS FC
   JOIN processo AS P ON FC.COD_PROCESSO_F = P.COD_PROCESSO AND FC.COD_ETAPA_F = P.COD_ETAPA_ATUAL AND FC.COD_CICLO_F = P.COD_CICLO_ATUAL 
  WHERE CPF LIKE '%$CPF_CONJUGE%'  
    AND CPF_CONJUGE LIKE '%$CPF%'
    AND DECLARACAO_ANALISTA_SIS = 'Sim'   

SELECT DISTINCT
    RESTRICOES
   FROM f_cadastro_cent AS FC
   JOIN processo AS P ON FC.COD_PROCESSO_F = P.COD_PROCESSO AND FC.COD_ETAPA_F = P.COD_ETAPA_ATUAL AND FC.COD_CICLO_F = P.COD_CICLO_ATUAL 
  WHERE CPF LIKE '%$CPF_CONJUGE%'  
    AND CPF_CONJUGE LIKE '%$CPF%'
    AND DECLARACAO_ANALISTA_SIS = 'Sim'  

SELECT DISTINCT
    JUSTIFICATIVA_RESTRICAO
   FROM f_cadastro_cent AS FC
   JOIN processo AS P ON FC.COD_PROCESSO_F = P.COD_PROCESSO AND FC.COD_ETAPA_F = P.COD_ETAPA_ATUAL AND FC.COD_CICLO_F = P.COD_CICLO_ATUAL 
  WHERE CPF LIKE '%$CPF_CONJUGE%'  
    AND CPF_CONJUGE LIKE '%$CPF%'
    AND DECLARACAO_ANALISTA_SIS = 'Sim' 

** POSSUI CADASTRO **
SELECT DISTINCT
    CPF
   FROM f_cadastro_cent AS FC
   JOIN processo AS P ON FC.COD_PROCESSO_F = P.COD_PROCESSO AND FC.COD_ETAPA_F = P.COD_ETAPA_ATUAL AND FC.COD_CICLO_F = P.COD_CICLO_ATUAL 
  WHERE CPF_CONJUGE LIKE '%$CPF%'
    AND DECLARACAO_ANALISTA_SIS = 'Sim'
  ORDER BY P.DAT_DATA DESC                      

** ABERTURA DE CONTA DADOS DO PROPONENTE TITULAR **
SELECT DISTINCT 
		NOME,
		CPF,
		PONTUACAO_SCORE_TITULAR,
		RESTRICOES,
		JUSTIFICATIVA_RESTRICAO,
		ESTADO_CIVIL,
		PONTUACAO_SCORE_CONJUGE,
		RESTRICOES_CONJUGE,
		JUSTIFICATIVA_RESTR_CON,
		PERFIL,
		DECLARACAO_ANALISTA_SIS
   FROM f_cadastro_cent AS FC
   JOIN processo AS P ON FC.COD_PROCESSO_F = P.COD_PROCESSO AND FC.COD_ETAPA_F = P.COD_ETAPA_ATUAL AND FC.COD_CICLO_F = P.COD_CICLO_ATUAL
  WHERE NOME LIKE '%$NOME%'
    AND CPF LIKE '%$CPF%'
    AND DECLARACAO_ANALISTA_SIS = 'Sim'

** ABERTURA DE CONTA DADOS OUTROS TITULARES **
SELECT DISTINCT 
		NOME,
		CPF,
		PONTUACAO_SCORE_TITULAR,
		RESTRICOES,
		JUSTIFICATIVA_RESTRICAO,
		ESTADO_CIVIL,
		PONTUACAO_SCORE_CONJUGE,
		RESTRICOES_CONJUGE,
		JUSTIFICATIVA_RESTR_CON,
		AREA_ATUACAO,
		DECLARACAO_ANALISTA_SIS
   FROM f_cadastro_cent AS FC
   JOIN processo AS P ON FC.COD_PROCESSO_F = P.COD_PROCESSO AND FC.COD_ETAPA_F = P.COD_ETAPA_ATUAL AND FC.COD_CICLO_F = P.COD_CICLO_ATUAL
  WHERE NOME LIKE '%$OUTRO_TITU_NOME%'
    AND CPF LIKE '%$OUTRO_TITU_CPF%'
    AND DECLARACAO_ANALISTA_SIS = 'Sim'
  ORDER BY P.DAT_DATA DESC

** ABERTURA DE CONTA DADOS DO CNPJ **
SELECT DISTINCT 
		RAZAO_SOCIAL,
		CNPJ,
		PONTUACAO_SCORE_CNPJ,
		RESTRICOES,
		JUSTIFICATIVA_RESTRICAO,
		PERFIL,
		AREA_ATUACAO,
		DECLARACAO_ANALISTA_UAD
   FROM f_cad_cent_pj AS FC
   JOIN processo AS P ON FC.COD_PROCESSO_F = P.COD_PROCESSO AND FC.COD_ETAPA_F = P.COD_ETAPA_ATUAL AND FC.COD_CICLO_F = P.COD_CICLO_ATUAL
  WHERE RAZAO_SOCIAL LIKE '%$RAZAO_SOCIAL%'
	  AND CNPJ LIKE '%$CNPJ%'
	  AND DECLARACAO_ANALISTA_UAD = 'Sim'
	
** ABERTURA DE CONTA SOCIOS ADM DO CNPJ **
	SELECT 		 
		CONCAT(IFNULL(TIPO_PESSOA, ''), '@',NOME_SOCIOS, '@', CPF_SOCIOS, '@', RESTRICAO_SOCIO, '@', ESTADO_CIVIL_SOCIO, '@',  IFNULL(NOME_CONJUGE_SOCIO,''), '@', IFNULL(CPF_CONJUGE_SOCIO, ''), '@', IFNULL(RESTRICAO_CONJUGE_SOCIO,''), '@', IFNULL(TIPO_SOCIO, '') '@') AS RETORNO
    FROM f_cad_cent_pj AS F
	 INNER JOIN processo AS P ON (F.COD_PROCESSO_F = P.COD_PROCESSO AND F.COD_ETAPA_F = P.COD_ETAPA_ATUAL AND F.COD_CICLO_F = P.COD_CICLO_ATUAL)
	 INNER JOIN g_cad_cent_pjGRD_SOCIOS AS GRD ON (GRD.COD_PROCESSO = P.COD_PROCESSO AND GRD.COD_ETAPA = P.COD_ETAPA_ATUAL AND GRD.COD_CICLO = P.COD_CICLO_ATUAL)
	 WHERE F.COD_PROCESSO_F = (SELECT MAX(COD_PROCESSO_F) FROM f_cad_cent_pj FM  JOIN processo AS PP ON (FM.COD_PROCESSO_F = PP.COD_PROCESSO) WHERE CNPJ = $CNPJ)     	
	
** CADASTRO PJ SOCIOS ADM DO CNPJ **
SELECT DISTINCT
          FPF.NOME AS NOM_RAZAO,
          FPF.CPF AS CPF_CNPJ,		
          FPF.ESTADO_CIVIL AS ESTADO_CIVIL,
          FPF.RESTRICOES AS RESTRICAO,
          FPF.RESTRICOES_CONJUGE AS REST_CONJ		
     FROM f_cadastro_cent AS FPF
     JOIN processo AS PPF ON FPF.COD_PROCESSO_F = PPF.COD_PROCESSO AND FPF.COD_ETAPA_F = PPF.COD_ETAPA_ATUAL AND FPF.COD_CICLO_F = PPF.COD_CICLO_ATUAL
    WHERE FPF.COD_PROCESSO_F = (
                                  SELECT MAX(FMAX.COD_PROCESSO_F)
                                    FROM f_cadastro_cent AS FMAX
                                    JOIN processo AS PMAX ON (FMAX.COD_PROCESSO_F = PMAX.COD_PROCESSO AND FMAX.COD_ETAPA_F = PMAX.COD_ETAPA_ATUAL AND FMAX.COD_CICLO_F = PMAX.COD_CICLO_ATUAL)
                                   WHERE FMAX.NOME LIKE '%$NOME_SOCIOS%'
                                     AND FMAX.CPF LIKE '%$CPF_SOCIOS%'
                               )	 
        
UNION
    
SELECT DISTINCT 
          RAZAO_SOCIAL AS NOM_RAZAO,
          CNPJ AS CPF_CNPJ,
          '' AS ESTADO_CIVIL,		
          RESTRICOES AS RESTRICAO,
          '' AS REST_CONJ		
     FROM f_cad_cent_pj AS FPJ
     JOIN processo AS PPJ ON FPJ.COD_PROCESSO_F = PPJ.COD_PROCESSO AND FPJ.COD_ETAPA_F = PPJ.COD_ETAPA_ATUAL AND FPJ.COD_CICLO_F = PPJ.COD_CICLO_ATUAL
    WHERE FPJ.COD_PROCESSO_F = (
                                  SELECT MAX(FMAXPJ.COD_PROCESSO_F)
                                    FROM f_cad_cent_pj AS FMAXPJ
                                    JOIN processo AS PMAXPJ ON (FMAXPJ.COD_PROCESSO_F = PMAXPJ.COD_PROCESSO AND FMAXPJ.COD_ETAPA_F = PMAXPJ.COD_ETAPA_ATUAL AND FMAXPJ.COD_CICLO_F = PMAXPJ.COD_CICLO_ATUAL)
                                   WHERE FMAXPJ.RAZAO_SOCIAL LIKE '%$NOME_SOCIOS%'
                                     AND FMAXPJ.CNPJ LIKE '%$CPF_SOCIOS%'
                               )
											
** CADASTRO PJ PROCURADORES **
SELECT DISTINCT 
		    NOME,
		    CPF		   			
   FROM f_cadastro_cent AS FC
   JOIN processo AS P ON FC.COD_PROCESSO_F = P.COD_PROCESSO 
	  AND FC.COD_ETAPA_F = P.COD_ETAPA_ATUAL 
	  AND FC.COD_CICLO_F = P.COD_CICLO_ATUAL
  WHERE NOME LIKE '%$NOME_PROCURADORES%'
    AND CPF LIKE '%$CPF_PROCURADORES%'
    AND DECLARACAO_ANALISTA_SIS = 'Sim'
  ORDER BY P.DAT_DATA DESC												

** CADASTRO PJ CONJUGE SOCIO **
SELECT DISTINCT 
		    NOME,
		    CPF,			
		    CPF_CONJUGE
  FROM  f_cadastro_cent AS FC
   JOIN processo AS P ON FC.COD_PROCESSO_F = P.COD_PROCESSO AND FC.COD_ETAPA_F = P.COD_ETAPA_ATUAL AND FC.COD_CICLO_F = P.COD_CICLO_ATUAL
  WHERE NOME LIKE '%$NOME_CONJUGE_SOCIO%'
    AND CPF LIKE '%$CPF_CONJUGE_SOCIO%'
	  AND DECLARACAO_ANALISTA_SIS = 'Sim'
  ORDER BY P.DAT_DATA DESC
  LIMIT 10

** VALIDAR CHAMADO QUE O GERENTE APROVA **
SELECT U.DES_LOGIN
   FROM funcao_usuario AS FU
   JOIN funcao AS F ON F.COD_FUNCAO = FU.COD_FUNCAO
   JOIN usuario AS U ON U.COD_USUARIO = FU.COD_USUARIO
  WHERE LEFT(F.DES_COMANDO,2) = LEFT($ORIGEM,2) 
    AND F.DES_COMANDO LIKE '%gerente_pa%'
    AND U.DES_LOGIN LIKE '%$AUX_INICIADOR%'

 ** CADASTRO PF BUSCA PROCURADOR REP LEGAL **
 SELECT DISTINCT 
		CPF,
		NOME		   			
   FROM f_cadastro_cent AS FC
   JOIN processo AS P ON FC.COD_PROCESSO_F = P.COD_PROCESSO 
	AND FC.COD_ETAPA_F = P.COD_ETAPA_ATUAL 
	AND FC.COD_CICLO_F = P.COD_CICLO_ATUAL
  WHERE NOME LIKE '%$NOME_PROCURADOR_REP%'
    AND CPF LIKE '%$CPF_PROCURADOR_REP_LEGA%'
    AND DECLARACAO_ANALISTA_SIS = 'Sim'
  ORDER BY P.DAT_DATA DESC   

** GROUP CONCAT MYSQL **
SELECT GROUP_CONCAT(U.NOM_USUARIO ORDER BY U.NOM_USUARIO ASC SEPARATOR ', ')
FROM grupo_usuario AS GU
JOIN grupo G ON GU.COD_GRUPO = G.COD_GRUPO
JOIN usuario U ON U.COD_USUARIO = GU.COD_USUARIO
WHERE G.DES_COMANDO = "01_papanduva"
	
SELECT GROUP_CONCAT(U.NOM_USUARIO ORDER BY U.NOM_USUARIO ASC SEPARATOR ', ')
  FROM funcao_usuario AS FU
  JOIN funcao AS F ON F.COD_FUNCAO = FU.COD_FUNCAO
  JOIN usuario AS U ON U.COD_USUARIO = FU.COD_USUARIO
 WHERE F.DES_COMANDO LIKE '%99_adm_alc_2%'	

SELECT GROUP_CONCAT(U.NOM_USUARIO ORDER BY U.NOM_USUARIO ASC SEPARATOR ', ')
FROM grupo_usuario AS GU
JOIN grupo G ON GU.COD_GRUPO = G.COD_GRUPO
JOIN usuario U ON U.COD_USUARIO = GU.COD_USUARIO
WHERE LEFT(G.DES_COMANDO,2) = LEFT($ORIGEM,2) 
AND G.DES_COMANDO LIKE '%seguros%'

SELECT GROUP_CONCAT(U.DES_LOGIN ORDER BY U.DES_LOGIN ASC SEPARATOR ', ')
FROM grupo_usuario AS GU
JOIN grupo G ON GU.COD_GRUPO = G.COD_GRUPO
JOIN usuario U ON U.COD_USUARIO = GU.COD_USUARIO
WHERE LEFT(G.DES_COMANDO,2) = LEFT($ORIGEM,2) 
AND G.DES_COMANDO LIKE '%seguros%'

SELECT G.DES_COMANDO
FROM grupo_usuario AS GU
JOIN grupo G ON GU.COD_GRUPO = G.COD_GRUPO
JOIN usuario U ON U.COD_USUARIO = GU.COD_USUARIO
WHERE LEFT(G.DES_COMANDO,2) = LEFT($ORIGEM,2) 
AND G.DES_COMANDO LIKE '%seguros%'

** ABERTURA DE CONTA CADASTROS ADICIONAIS **
SELECT  
		RELACIONAMENTO_EXT,
		CPF_EXT_ADD,
		NOME_EXT_ADD,
		PONTUACAO_SCORE_ADD,
		RESTRICOES_ADD,
		JUST_RESTRICAO_ADD,
		SCORE_CONJUGE_ADD,
		RESTRICOES_CONJUGE_ADD,
		JUST_RESTR_CON_ADD
   FROM f_cadastro_cent AS FC
   JOIN processo AS P ON FC.COD_PROCESSO_F = P.COD_PROCESSO AND FC.COD_ETAPA_F = P.COD_ETAPA_ATUAL AND FC.COD_CICLO_F = P.COD_CICLO_ATUAL
  WHERE NOME LIKE '%$NOME%'
    AND CPF LIKE '%$CPF%'
    AND DECLARACAO_ANALISTA_SIS = 'Sim'

** ATUALIZAÇÃO CADASTRAL - SELECT REPLACE **
SELECT * FROM clientes_cadastro
WHERE cpf_cnpj LIKE REPLACE(REPLACE('%$CPF%', '-',''), '.','');


SELECT DISTINCT 
    NOME,
		CPF,
		RESTRICOES,
		JUSTIFICATIVA_RESTRICAO,
		ESTADO_CIVIL,
		PROCURADOR_REPRE_LEGAL,
		RESTRICOES_PROC_REP,
		JUST_REST_PROC_REP,
		PERFIL,
    CIDADE
DECLARACAO_ANALISTA_SIS
   FROM f_cadastro_cent AS FC
   JOIN processo AS P ON FC.COD_PROCESSO_F = P.COD_PROCESSO AND FC.COD_ETAPA_F = P.COD_ETAPA_ATUAL AND FC.COD_CICLO_F = P.COD_CICLO_ATUAL
WHERE NOME LIKE '%$NOME%'
AND CPF LIKE '%$CPF%'
AND DECLARACAO_ANALISTA_SIS = 'Sim'
	
SELECT DISTINCT
       CPF_CONJUGE,
       NOME_CONJUGE,			
       RESTRICOES_CONJUGE
  FROM f_cadastro_cent AS FC
  JOIN processo AS P ON FC.COD_PROCESSO_F = P.COD_PROCESSO AND FC.COD_ETAPA_F = P.COD_ETAPA_ATUAL AND FC.COD_CICLO_F = P.COD_CICLO_ATUAL
 WHERE NOME LIKE '%$NOME_SOCIOS%'
   AND CPF LIKE '%$CPF_SOCIOS%'
   AND DECLARACAO_ANALISTA_SIS = 'Sim'
 ORDER BY P.DAT_DATA DESC
 LIMIT 1



SELECT DISTINCT CONCAT(
		G.CPF_EXT_ADD, '@',
		G.NOME_EXT_ADD, '@',
		G.PONTUACAO_SCORE_ADD, '@',
		G.RESTRICOES_ADD, '@',
		G.JUST_RESTRICAO_ADD, '@')	


** EXEMPLO ARRAY E OBJETOS **
		var newObj = [];

		for(var i = 0; i <= 2; i++){

			var newOption = {name: "nome" + i, value: i};
			newObj.push(newOption);
			console.log("push: " + newObj[i].name);
			console.log("push: " + newObj[i].value);

		}

		listaTeste.addOptions(newObj);    
	
	
	** EXEMPLO OPCOES DE LISTA **

  			var opcoesLista = Form.fields('ADD_ATENDENTE1').options();

			console.log(opcoesLista);

			if(opcoesLista != undefined){

				console.log(opcoesLista.length);

				for(i = 0; i < opcoesLista.length; i++){

					console.log(opcoesLista[i]);

				}

			}

 ** EXEMPLO CONCAT WS **

 SELECT DISTINCT CONCAT_WS('@',G.CPF_EXT_ADD, G.NOME_EXT_ADD, G.PONTUACAO_SCORE_ADD, G.RESTRICOES_ADD, G.JUST_RESTRICAO_ADD) AS dados
    FROM f_cadastro_cent AS FC, g_cadastro_centg_externas_add AS G
   WHERE FC.COD_PROCESSO_F = G.COD_PROCESSO AND FC.COD_ETAPA_F = G.COD_ETAPA AND FC.COD_CICLO_F = G.COD_CICLO
     AND FC.NOME LIKE '%$NOME%'
     AND FC.CPF LIKE '%$CPF%'
     AND FC.DECLARACAO_ANALISTA_SIS = 'Sim'    


SELECT DISTINCT CONCAT_WS('@',G.CPF_EXT_ADD, G.NOME_EXT_ADD, G.PONTUACAO_SCORE_ADD, G.RESTRICOES_ADD, G.JUST_RESTRICAO_ADD, GA.CAPITAL_AD) AS dados
    FROM f_cadastro_cent AS FC, g_cadastro_centg_externas_add AS G
    INNER JOIN g_cadastro_centg_cad_add AS GA
    ON G.CPF_EXT_ADD = GA.CPF_ADD;
   WHERE FC.COD_PROCESSO_F = G.COD_PROCESSO AND FC.COD_ETAPA_F = G.COD_ETAPA AND FC.COD_CICLO_F = G.COD_CICLO
     AND FC.CPF = '886.799.240-67'
     AND FC.DECLARACAO_ANALISTA_SIS = 'Sim'    


** LISTAR PROPRIEDADES DOS CAMPOS **
				var get = Form.grids("G_CAD_ADD").fields("DESC_RELAC").get();
				const props = Object.keys(get);		
				console.log(props);

SELECT GROUP_CONCAT(U.NOM_USUARIO ORDER BY U.NOM_USUARIO ASC SEPARATOR ', ')
FROM grupo_usuario AS GU
JOIN grupo G ON GU.COD_GRUPO = G.COD_GRUPO
JOIN usuario U ON U.COD_USUARIO = GU.COD_USUARIO
WHERE G.DES_COMANDO = '$AUX_GRUPO'
AND U.IDE_USUARIO_INATIVO = 'N'

SELECT GROUP_CONCAT(U.DES_LOGIN ORDER BY U.DES_LOGIN ASC SEPARATOR ', ')
FROM grupo_usuario AS GU
JOIN grupo G ON GU.COD_GRUPO = G.COD_GRUPO
JOIN usuario U ON U.COD_USUARIO = GU.COD_USUARIO
WHERE G.DES_COMANDO = '$AUX_GRUPO'
AND U.IDE_USUARIO_INATIVO = 'N'

SELECT DISTINCT CONCAT( U.NOM_USUARIO,'@', U.DES_LOGIN,'@')
FROM grupo_usuario AS GU
JOIN grupo G ON GU.COD_GRUPO = G.COD_GRUPO
JOIN usuario U ON U.COD_USUARIO = GU.COD_USUARIO
WHERE G.DES_COMANDO LIKE '%$AUX_GRUPO_ORIGEM%'
AND U.IDE_USUARIO_INATIVO = 'N'
AND (U.DATA_FIM_FERIAS < CURDATE() OR U.DATA_FIM_FERIAS IS NULL)
ORDER BY U.NOM_USUARIO ASC





	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	